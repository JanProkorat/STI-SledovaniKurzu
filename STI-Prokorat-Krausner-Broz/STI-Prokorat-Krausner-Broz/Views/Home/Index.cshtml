@model STIProkoratKrausnerBroz.Models.ToolsClass
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Home Page";
}
<div class="currencyContainer" id="audDiv">
    <canvas class="graphCanvas" id="aud-purchase-canvas"></canvas>
    <canvas class="graphCanvas" id="aud-sale-canvas"></canvas>
</div>
<div class="currencyContainer" id="cnyDiv">
    <canvas class="graphCanvas" id="cny-purchase-canvas"></canvas>
    <canvas class="graphCanvas" id="cny-sale-canvas"></canvas>
</div>
<div class="currencyContainer" id="eurDiv">
    <canvas class="graphCanvas" id="eur-purchase-canvas"></canvas>
    <canvas class="graphCanvas" id="eur-sale-canvas"></canvas>
</div>
<div class="currencyContainer" id="hrkDiv">
    <canvas class="graphCanvas" id="hrk-purchase-canvas"></canvas>
    <canvas class="graphCanvas" id="hrk-sale-canvas"></canvas>
</div>
<div class="currencyContainer" id="cadDiv">
    <canvas class="graphCanvas" id="cad-purchase-canvas"></canvas>
    <canvas class="graphCanvas" id="cad-sale-canvas"></canvas>
</div>
<div class="currencyContainer" id="hufDiv">
    <canvas class="graphCanvas" id="huf-purchase-canvas"></canvas>
    <canvas class="graphCanvas" id="huf-sale-canvas"></canvas>
</div>
<div class="currencyContainer" id="nokDiv">
    <canvas class="graphCanvas" id="nok-purchase-canvas"></canvas>
    <canvas class="graphCanvas" id="nok-sale-canvas"></canvas>
</div>
<div class="currencyContainer" id="plnDiv">
    <canvas class="graphCanvas" id="pln-purchase-canvas"></canvas>
    <canvas class="graphCanvas" id="pln-sale-canvas"></canvas>
</div>
<div class="currencyContainer" id="ronDiv">
    <canvas class="graphCanvas" id="ron-purchase-canvas"></canvas>
    <canvas class="graphCanvas" id="ron-sale-canvas"></canvas>
</div>
<div class="currencyContainer" id="rubDiv">
    <canvas class="graphCanvas" id="rub-purchase-canvas"></canvas>
    <canvas class="graphCanvas" id="rub-sale-canvas"></canvas>
</div>
<div class="currencyContainer" id="sekDiv">
    <canvas class="graphCanvas" id="sek-purchase-canvas"></canvas>
    <canvas class="graphCanvas" id="sek-sale-canvas"></canvas>
</div>
<div class="currencyContainer" id="chfDiv">
    <canvas class="graphCanvas" id="chf-purchase-canvas"></canvas>
    <canvas class="graphCanvas" id="chf-sale-canvas"></canvas>
</div>
<div class="currencyContainer" id="tryDiv">
    <canvas class="graphCanvas" id="try-purchase-canvas"></canvas>
    <canvas class="graphCanvas" id="try-sale-canvas"></canvas>
</div>
<div class="currencyContainer" id="usdDiv">
    <canvas class="graphCanvas" id="usd-purchase-canvas"></canvas>
    <canvas class="graphCanvas" id="usd-sale-canvas"></canvas>
</div>
<div class="currencyContainer" id="gbpDiv">
    <canvas class="graphCanvas" id="gbp-purchase-canvas"></canvas>
    <canvas class="graphCanvas" id="gbp-sale-canvas"></canvas>
</div>

<script type="text/javascript">
    let bankNames = [];
    let currenciesSales = [];
    let currenciesPurchases = [];
    let dates = [];
    let currencyNames = [];
    @{
        foreach(var d in Model.Currencies[0].dates){
            @:dates.push("@d.date.ToString()");
            @:var tmpArray1 = [];
            @:var tmpArray2 = [];
            @:currenciesSales.push(tmpArray1);
            @:currenciesPurchases.push(tmpArray2);
        }
        foreach (var b in Model.Currencies[0].dates[0].banks){
            @:bankNames.push("@b.name");
        }
        foreach(var c in Model.Currencies){
            @:currencyNames.push("@c.name");
            foreach(var d in c.dates){
                foreach (var b in d.banks){
                    @:for(var i = 0; i < currenciesSales.lenght; i++){
                        @:for(var j = 0; j < 8; j++){
                            @:currenciesSales[i][j].push("@b.saleVal");

                            @:currenciesPurchases[i][j].push("@b.saleVal");
                            @:console.log(currenciesPurchases[i][j]);
                        @:}
                    @:}
                 }
            }
        }
     }
    console.log(currencyNames);
    console.log(currenciesSales);
    console.log(currenciesPurchases);
    //createCurrencyGraph("cnb-sale-canvas", currencyName, bankNames, dates, currenciesSales);
</script>

